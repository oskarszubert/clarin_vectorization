var topa_title="Śledzenie kliknięć w Google AdSense przy pomocy Google Analytics"; var topa_link="http%3A%2F%2Ftomasz.topa.pl%2Fsledzenie- klikniec-w-google-adsense-przy-pomocy-google-analytics.html"; Śledzenie kliknięć w Google AdSense przy pomocy Google Analytics !-- google_ad_client = "pub-5199944487334506"; google_ad_slot = "4898454205"; google_ad_width = 234; google_ad_height = 60; //--                                               !-- google_ad_client = "ca-pub-5199944487334506"; google_ad_slot = "9221153712"; google_ad_width = 300; google_ad_height = 250; //-- UWAGA! Ten sposób może już nie działać – Google zmieniło kod wstawianych reklam AdSense! Raporty Google AdSense pokazują nam tylko sumaryczną ilość wyświetleń, kliknięć w reklamy i zarobione pieniądze. Mało. Gdy zaprzęgniemy do pracy kanały URL i kanały spersonalizowane, możemy się też dowiedzieć mniej więcej na których stronach ludzie klikają w reklamy. Dalej mało. Ja bym chciał wiedzieć: reklamy których reklamodawców cieszą się największą popularnością? Sam AdSense nam tu nie pomoże, ale wiadomo przecież, że gdzie diabeł nie może, tam programistę pośle. Powstały wszelkiej maści skrypty śledzące kliknięcia typu AdSense Tracking czy w skrócie AsTracking. Dla skryptów obsługujących różne systemy reklam używa się też określenia AdTracking. Skrypty te zwykle wykorzystują JavaScript do wyłapania kliknięcia, a następnie PHP lub ASP jako interface do zapisania tych danych w bazie MySQL.  Ja z kolei opiszę znalezioną przeze mnie wczoraj metodę, której autorem jest dolly. Czym wyróżnia się spośród innych? Ten darmowy skrypt używa systemu Google Analytics do zbierania i prezentowania danych. Potrafi też śledzić kliknięcia użytkowników, którzy używają Firefoksa (utrudnieniem są kwestie techniczne – IE pozwala na wyciągnięcie informacji o danych pochodzących z innej domeny znajdujących się w naszym IFRAME, Firefox nie). No i najważniejsze: Poniższy skrypt nie narusza Terms Of Service usługi Google AdSense.  Trzeba oczywiście pamiętać, że skrypt nie zawsze może zadziałać (np. nietypowa konfiguracja przeglądarki użytkownika). Nie będziemy również w stanie śledzić dokładnie kliknięć w Jednostki Linków, ponieważ kliknięcie we właściwą reklamę odbywa się już na stronie Google, nie naszej. Dane zebrane przez Analytics należy więc traktować jako orientacyjne! Instalacja statystyk Ponieważ skrypt bazuje na Google Analytics, będziemy potrzebowali aktywnego konta. Jeśli jeszcze nie używaliśmy Google Analytics, powinniśmy się zarejestrować. Drugą rzeczą, która będzie nam potrzebna, jest odpowiedni plik z kodem javascript (pobierz: astracker.js), który należy uploadować na nasz serwer, najlepiej do głównego katalogu naszego serwisu. Edycja kodu naszej strony Teraz zaczynamy właściwą instalację. Google zaleca, aby kod aktywujący Analytics był umieszczany przed samym /body (zakładam, że mamy już ustawiony profil dla naszej strony, jeśli nie, to powinniśmy to zrobić wybierając  Analytics Settings » Add Website Profile). Plik astracker.js należy umieścić na samym końcu strony, za kodem Analytics!. Tego skryptu NIE umieszczamy w sekcji head. Czyli ostatnie linijki naszej strony powinny wyglądać tak: _uacct = "UA-xxxxxx-y";     urchinTracker(); 