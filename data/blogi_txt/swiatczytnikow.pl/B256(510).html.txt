Autor zdjęcia: kodomout, CC BY 2.0. Czas szybko leci… AWKCC umarł i jak feniks narodził się ponownie w lepszej formie. Więc i czas na aktualizacje poradnika. Pokrywa się on pewnym zakresie z poprzednimi częściami, więc nie jest wymagana znajomość starszych wydań. Ostatnia aktualizacja: 20.12.13 Proces importu mangi na nasze czytniki z dnia na dzień staje się coraz łatwiejszy :-) Jednakże nim przejdziemy do konkretów, nieco historii. Klepsydra Image Viewera Jak już za pewnie wiecie w starszych modelach Kindle (Keyboard, Classic) wbudowany Image Viewer służył nam, jako główne narzędzie od czytania mangi. Daleko mu było do ideału, ale działał. Niestety Amazon od modelu Touch rozpoczął proces pozbawiania go różnych funkcjonalności. Został on zredukowany do stanu, gdzie wygodne użytkowanie nie było już moim zdaniem możliwe. Tak. Były różne obejścia i metody by używać go dalej, ale zdecydowanie trudno było je nazwać komfortowymi. Światełkiem w tunelu stał się projekt Komic. Reanimował on funkcjonalności starego Image Viewera i umożliwiał spokojne czytanie, lecz posiadał on znaczącą wadę – jego instalacja wymagała znacznej ingerencji w oprogramowanie Kindle, zaś Amazon z dnia na dzień patrzy na ten proceder coraz mniej przyjaźnie. Na dzień dzisiejszy projekt jest dalej rozwijany i da się go zainstalować na wszystkich nowych modelach Kindle. Ale nie jest to narzędzie, o którym będziemy dzisiaj mówić. W moim pierwszym artykule wiązałem duże nadzieje z rozwojem formatu MOBI i oprogramowania samych czytników Kindle. I tak oto nadszedł ten dzień – Zapomnijmy o Image Viewerze, Komicu, formacie CBZ… Możemy już wygodnie konwertować mangę do formatu MOBI. W wydaniu II opisywałem AWKCC – moją prywatną nakładkę na konwerter KCC. Niedawno została wydana jego nowa wersja oznaczona numerem 3.0 która połączyła AWKCC i KCC w jedną aplikacje. I to właśnie o niej będziemy dzisiaj rozmawiać. Warto również pamiętać i nie mylić KCC (Kindle Comic Converter) z wydanym przez Amazon KC2 (Kindle Comic Creator). Niefortunna zbieżność skrótów powoduje zamieszanie w niektórych kręgach. Wstęp Nim zaczniemy – kilka uwag technicznych. Metoda tutaj opisana najlepiej działa na Kindle od modelu Keyboard (Włącznie), jeżeli zaktualizowaliśmy oprogramowanie na nich. Jeżeli nie aktualizowaliśmy systemu od dawien dawna – czas się nad tym zastanowić. KCC oferuje też wsparcie Kindle 1, 2 oraz modeli DX/DXG, ale jako że nie wspierają one Panel View (Wygodnej metody powiększania obrazu.) nie mogę zagwarantować, że efekt końcowy będzie równie dobry jak na innych Kindle. Warto również wspomnieć, iż KCC wspiera również nie E-Inkowe tablety z rodziny Kindle Fire. Od wersji 3.0 KCC ma całkowicie hipotetyczne wsparcie innych e-czytników niebędących dziełem firmy Amazon. O ile nasz czytnik obsługuje format EPUB możemy spróbować opisywanej tutaj metody. Zachęcam do eksperymentów. Na wiki możecie znaleźć wyniki zgłoszone przez naszych użytkowników. Poniższą instrukcję kieruje głównie do użytkowników Windowsa. Ale KCC pracuje również bez problemu na OS X i Linuksie. Poniżej mała próbka możliwości Kindle Keyboard. Widok pełnoekranowy oraz z uruchomionym Panel View. Poniższe obrazki zostały zoptymalizowane pod wyświetlacze E-Ink. Dlatego nie wyglądają za dobrze na ekranach komputerów.     Ubunchu! CC BY-NC 3.0 Plan prac  Optymalizacja plików graficznych pod wyświetlacz E-Ink.  Dopasowanie do rozdzielczości Kindle. Zmiana palety kolorów. Zwiększenie ostrości. Obcięcie białych przestrzeni wokół właściwej treści. Rozdzielenie bądź obrócenie podwójnych stron.   Stworzenie specjalnego pliku EPUB ze wszystkimi obrazkami. Przekonwertowanie pliku EPUB do formatu MOBI. Oczyszczenie pliku MOBI z niepotrzebnych danych. Usunięcie rekordów SRCS. Zmniejsza to rozmiar pliku o połowę(!). Jak widzimy… jest co robić. Na szczęście KCC w pełni automatyzuje ten proces. Konwersja  Rozwiązanie, które dzisiaj prezentuję ma jedną dużą wadę spowodowaną ograniczeniami rozmiaru pliku MOBI nałożonymi przez Amazon. Poświecę temu problemowi oddzielny akapit. Potrzebujemy:  Kindle z odpowiednią wersją systemu operacyjnego. Żadne nieoficjalne poprawki nie są wymagane. (Kindle Keyboard: 3.4, Kindle Touch: 5.3.2, Kindle Non-Touch – zwany u nas Classic: 4.1.x, Kindle Paperwhite: 5.3.x) Skanów mangi w formacie JPG, PNG, GIF, CBZ, CBR lub CB7. Program może też spróbować pobrać obrazki z wnętrza pliku PDF. Efekt końcowy praktycznie w całości opiera się na jakości plików źródłowych. Duża rozdzielczość i pliki niepoddane wcześniejszej kompresji są bardzo mile widziane.  Programu KCC. Programu KindleGen wydanego przez Amazon.   Co robimy po kolei: Instalujemy KCC. Musimy w jego katalogu umieścić plik kindlegen.exe ściągnięty ze strony Amazon. W wypadku OS X i Linuksa musimy umieścić kindlegen w obrębie zmiennej PATH. Polecam katalog /usr/local/bin. Przygotowujemy pliki źródłowe z mangą. Muszą się one znajdować w jednym katalogu. Nazwa katalogu będzie nazwą książki. Pierwszy plik graficzny zostanie również okładką. Pliki mogą być zarówno luzem jak i w podkatalogach – jeden per rozdział. Strony zostaną dołączone do pliku MOBI w kolejności alfabetycznej. Więc jest to ostatnia szansa by sprawdzić czy mamy wszystko poukładane w dobrej kolejności. Dodatkowo warto dodać, że pliki źródłowe nie są modyfikowane w żaden sposób podczas tworzenia pliku MOBI. Nie musimy wykonywać ich kopii specjalnie dla tego procesu. Uruchamiamy KCC. Tutaj warto zaznaczyć, że wszystkie opcje mają dodatkowe informacje na swój temat w dymkach. Wybieramy katalog z naszymi plikami. Wybieramy model naszego Kindle. Niezmiernie ważny krok – cały proces konwersji opiera się na tym ustawieniu. W trybie Basic mamy do wyboru trzy dodatkowe opcje:  Manga mode - Zaznaczamy ją gdy konwertowana treść jest czytana od prawej strony. Horizontal mode – Gdy ją zaznaczymy podwójne strony nie zostaną przecięte w połowie, ale obrócone o 90 stopni. Kwestia gustu. High/Ultra quality - Jak łatwo się domyślić jest to opcja, od której zależy końcowa jakość pliku MOBI. Opcja ta ma 3 możliwe ustawienia: Niezaznaczona - Tryb normalny. Maksymalna jakość obrazu kiedy nie jest włączone powiększenie. Fatalna jakość gdy je uruchomimy. Używamy tego trybu kiedy nie potrzebujemy używać powiększenia obrazu. Stan pośredni - Wysoka jakość. Maksymalna jakość obrazu powiększonego. Ale kosztem jakości obrazu gdy nie jest on powiększony. Z zasady jest on delikatnie rozmazany w porównaniu z trybem normalnym. Polecam porównać z opcją maksymalną. Niektórzy nie widzą różnicy. Mnie osobiście to lekkie rozmazanie bardzo irytuje :-) Zaznaczona - Maksymalna jakość niezależnie od powiększenia. Tworzy on dwa pliku graficzne dla każdej strony co odbija się znacznie na wielkości pliku wynikowego. Nie da się osiągnąć większej jakości. Jeżeli dalej nie jest zadowalająca winne są pliki źródłowe. Naciskamy przycisk Convert. Mamy dłuższą chwilę wolnego. Gotowe. Jeżeli dostaniemy informacje o poprawnie zakończonym procesie konwersji plik MOBI powinien na nas czekać w katalogu z plikami źródłowymi. Od tego momentu postępujemy z nim jak z normalną książką, ale nie możemy przesłać go na Kindle drogą e-mailową. Olaboga ten piekielny wynalazek wyświetlił mi błąd… … o za dużym pliku EPUB. To główny problem tego rozwiązania. Niestety KindleGen wymaga by tworzone przez niego pliki MOBI miały nagłówek SRCS. Nie przeszkadza to na co dzień, gdyż książki nie są specjalnie dużymi plikami. Ale w wypadku, gdy MOBI jest wypełnione grafika – zaczynają się schody. Wyprodukowany plik jest przez ten nagłówek około 2 razy większy niż źródłowy EPUB i jeżeli przez to w czasie konwersji przekroczy on magiczną granice 650MB cały proces zakończy się katastrofalną awarią i zamiast pięknego MOBI otrzymamy przysłowiową figę z makiem. Dlatego też KCC po stworzeniu EPUBa sprawdza, czy przypadkiem nie jest on za duży by przekonwertować go do formatu MOBI. Jeżeli tak by się stało – musimy podzielić naszą mangę na więcej niż jeden tom. O ile używamy odpowiedniej struktury katalogów KCC wykona podział automatycznie. W innym wypadku musimy zrobić to sami. Moje prośby do Amazonu by dodać opcję wyłączająca ten limit bądź tworzenie nagłówka SRCS został zignorowane. Ale nie jest to wielkie zaskoczenie jako że KindleGen został stworzony do innych celów.  Warto dodać że gdy KindleGen stworzy już poprawny plik MOBI inna część KCC wyrzuci dane SRCS i rozmiar końcowego pliku spadnie o połowę. Przykładowe pliki MOBI Oto przykładowe pliki dla osób które chcą tylko sprawdzić jak prezentuje się efekt końcowy. FAQ Używam obecnie AWKCC 1.x/KCC 2.x. Co się zmieniło? Prócz wielkiego worka małych poprawek główne zmiany można zawrzeć w trzech punktach:  Całkowicie nowy interfejs użytkownika. Tryb ultra jakości rozwiązujący wszelkie problemy z rozmazującym się obrazem. Eksperymentalne wsparcie dla czytników nie-Kindle.  Nie mam Kindle. Czy jest sens używać KCC? Odpowiedź brzmi… możliwe. Nie oferujemy oficjalnego wsparcia dla każdego e-czytnika na tej planecie, ale znane są mi przypadki ludzi którzy używają KCC a Kindle nie posiadają. Jak długo twój czytnik otwiera EPUBy to można próbować. Wybierz profil Other. Pojawia się opcje docelowej rozdzielczości obrazów. Miłego eksperymentowania. Z chęcią usłyszę o  wynikach twoich prób. Używam na co dzień Mangle. Dlaczego miałbym się przesiadać na KCC? Głównie dlatego że Mangle nie tworzy plików MOBI. A CBZ/CBR to koszmarny przeżytek. Pominę już fakt, że ostatnia aktualizacja Mangle była zaraz po chrzcie Polski. Tworze komiksowe MOBI przy pomocy Calibre. Dlaczego miałbym się przesiadać na KCC? Bardzo częste pytanie. Najlepsza odpowiedź: Sprawdź plik demo. Zobaczysz dlaczego. Calibre tworzy zwykłe pliki MOBI a nie specjalne – komiksowe. I co ważniejsze: Nie przerabia obrazów pod wyświetlacze E-Ink. Przekonwertowany tom przy przełączeniu na następna stronę uruchamia zoom którego nie potrzebuję.  Muszę 5 razy nacisnąć przycisk by zobaczyć następną stronę. Jak to naprawić? Wyłączyć Virtual Panel View. Opcja znajduje się w menu książki. Konwersja została wykonana poprawnie, ale na moim Kindle obraz wygląda jak nowa droga w Polsce po jednej zimie. Jeżeli wygląda tak źle prawdopodobnie masz stłuczony ekran :- Mogę jedynie powiedzieć że 9/10 źródeł plików nie oferują tego co mogę zaliczyć do wysokiej jakości. Szukajcie a znajdziecie. Dużo osób konwertuje złe pliki i nawet nie wie że mogło by to wyglądać lepiej. Chce pomóc wam w rozwoju aplikacji! KCC jest aplikacją open source. Zapraszamy na GitHuba. Jestem niezmiernie zadowolony z tego programu i chce dać wam pieniądze na prywatną wyspę. Czy przyjmujecie sztabki złota? Nie. Ale wszelkie daniny na PayPala są mile widziane. Ciro Mattia Gonano  Paweł Jastrzębski  Czytaj dalej:  Kindle, Calibre, formaty i jak uzyskać idealny plik Kindle Comic Creator – nowe narzędzie od Amazonu Jaki czytnik będzie najlepszy do przeglądania internetu? OpenDyslexic – font ułatwiający czytanie przy dysleksji Kupujemy czytnik Kindle babci lub dziadkowi Jak pozbyć się wiszących spójników w Calibre? 